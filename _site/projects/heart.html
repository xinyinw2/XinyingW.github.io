<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-03-19">
<meta name="description" content="Predicts elevated heart-attack risk using machine learning and explains key drivers to support prevention and clinical decisions.">

<title>Heart Attack Prediction – Xinying Wu’s Portfolio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-0b9a2a02bd90fa1c89e1d56d516cd0b1.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Xinying Wu’s Portfolio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../projects/index.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#problem-statement" id="toc-problem-statement" class="nav-link" data-scroll-target="#problem-statement">Problem statement</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a>
  <ul class="collapse">
  <li><a href="#snapshot" id="toc-snapshot" class="nav-link" data-scroll-target="#snapshot">Snapshot</a></li>
  <li><a href="#data-dictionary" id="toc-data-dictionary" class="nav-link" data-scroll-target="#data-dictionary">Data Dictionary</a></li>
  <li><a href="#data-preprocessing" id="toc-data-preprocessing" class="nav-link" data-scroll-target="#data-preprocessing">Data Preprocessing</a></li>
  <li><a href="#dataset-versions-and-splits" id="toc-dataset-versions-and-splits" class="nav-link" data-scroll-target="#dataset-versions-and-splits">Dataset versions and splits</a></li>
  </ul></li>
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link" data-scroll-target="#exploratory-data-analysis">Exploratory Data Analysis</a>
  <ul class="collapse">
  <li><a href="#descriptive-analysis" id="toc-descriptive-analysis" class="nav-link" data-scroll-target="#descriptive-analysis">Descriptive Analysis</a></li>
  <li><a href="#correlation-analysis" id="toc-correlation-analysis" class="nav-link" data-scroll-target="#correlation-analysis">Correlation Analysis</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Heart Attack Prediction</h1>
  <div class="quarto-categories">
    <div class="quarto-category">R</div>
    <div class="quarto-category">Tableau</div>
    <div class="quarto-category">Classification</div>
  </div>
  </div>

<div>
  <div class="description">
    Predicts elevated heart-attack risk using machine learning and explains key drivers to support prevention and clinical decisions.
  </div>
</div>


<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 19, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="overview" class="level1">
<h1>Overview</h1>
<p>This project develops a predictive model to flag individuals at <strong>elevated risk of heart attack</strong>, combining machine learning with interpretable analytics so results are useful for <strong>screening, prevention, and clinical decision support</strong>. We focus on identifying which <strong>clinical, lifestyle, and demographic factors</strong> most influence risk, and on calibrating the model’s <strong>precision and recall</strong> to be reliable for real-world use.</p>
<p><strong>Why this matters</strong></p>
<ul>
<li>Heart disease is a leading cause of death worldwide (18M+ deaths annually).<br>
</li>
<li>In the U.S., someone has a heart attack every ~40 seconds, and over 50% report no prior symptoms.<br>
</li>
<li>The economic burden exceeds $200B annually.</li>
</ul>
<p><strong>Who benefits</strong></p>
<ul>
<li><strong>Patients:</strong> personalized risk scores and driver explanations to guide lifestyle changes, medication adherence, and timely medical follow-up.<br>
</li>
<li><strong>Clinicians:</strong> an evidence-based complement to clinical judgment that helps prioritize care and manage panels efficiently.<br>
</li>
<li><strong>Policymakers &amp; health systems:</strong> population-level insights to target prevention programs and reduce cardiovascular burden.</li>
</ul>
<p><strong>Research questions</strong></p>
<ul>
<li>Which factors most strongly influence heart-attack risk in our data?<br>
</li>
<li>What <strong>precision/recall</strong> balance makes the model dependable for screening and referral?<br>
</li>
<li>How can insights translate into <strong>preventive actions</strong> for patients (e.g., lifestyle changes, adherence)?</li>
</ul>
</section>
<section id="problem-statement" class="level1">
<h1>Problem statement</h1>
<p>Cardiovascular disease is a leading cause of death, and many heart attacks occur without prior symptoms. Screening resources are limited, and risk is often underestimated until it is too late. Patients need clear, interpretable feedback they can act on, and clinicians need a reliable way to identify elevated risk earlier and prioritize preventive care. The core problem is to build a model that estimates individual heart-attack risk from routinely available data and explains why a person is high risk in time to intervene.</p>
<p>Our objectives are to predict near-term heart-attack risk at the individual level, explain the top risk drivers in language patients and clinicians understand, and calibrate precision and recall so the model is safe for screening (high recall) and practical for follow-up (adequate precision). The scope includes clinical, lifestyle, and demographic inputs commonly captured in care or surveys, and concise contributing factors. We must handle class imbalance and missing data while maintaining interpretability and fairness across subgroups.</p>
<p>Success will be defined by meeting agreed performance thresholds (e.g., strong AUROC and PR-AUC) and an operational precision/recall target set with clinical stakeholders. We will also look for stable performance across age and sex subgroups, documented bias checks, and explanation quality that clinicians rate as useful for counseling and care planning.</p>
</section>
<section id="data" class="level1">
<h1>Data</h1>
<p>The dataset comes from a dataset named “Heart Attack Risk Prediction Dataset” from Kaggle. This dataset is designed to analyze and predict heart attack risk based on various health, lifestyle, and demographic factors. It includes attributes such as age, cholesterol levels, blood pressure, smoking habits, exercise patterns, dietary preferences, and medical history. By leveraging predictive analytics and machine learning, this dataset can aid researchers and healthcare professionals in developing proactive strategies for heart disease prevention and management. .</p>
<section id="snapshot" class="level3">
<h3 class="anchored" data-anchor-id="snapshot">Snapshot</h3>
<ul>
<li><p>Rows: 8,763</p></li>
<li><p>Columns: 26</p></li>
<li><p>Target variable: Heart_Attack_Risk (binary: <strong>1 = At Risk</strong>, <strong>0 = No Risk</strong>)</p></li>
<li><p>Predictors: the modeling dataset includes 24 features across demographics, clinical/physiologic measures, medical history, and lifestyle—with Patient ID excluded from the final set</p></li>
</ul>
</section>
<section id="data-dictionary" class="level3">
<h3 class="anchored" data-anchor-id="data-dictionary">Data Dictionary</h3>
<table class="feature-table">
<thead>
<tr>
<th>
Feature
</th>
<th>
Type
</th>
<th>
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>Patient ID</code>
</td>
<td>
QL(Unique)
</td>
<td>
Unique identifier for each patient
</td>
</tr>
<tr>
<td>
<code>Age</code>
</td>
<td>
Q(Int)
</td>
<td>
Age in years
</td>
</tr>
<tr>
<td>
<code>Sex</code>
</td>
<td>
QL(2)
</td>
<td>
Male or Female
</td>
</tr>
<tr>
<td>
<code>Cholesterol</code>
</td>
<td>
Q(Int)
</td>
<td>
Total cholesterol (mg/dL)
</td>
</tr>
<tr>
<td>
<code>Blood Pressure</code>
</td>
<td>
QL(2)
</td>
<td>
Systolic / Diastolic (mmHg)
</td>
</tr>
<tr>
<td>
<code>Heart Rate</code>
</td>
<td>
Q(Int)
</td>
<td>
Resting heart rate (bpm)
</td>
</tr>
<tr>
<td>
<code>Diabetes</code>
</td>
<td>
QL(Bin)
</td>
<td>
Diabetes status (Yes/No)
</td>
</tr>
<tr>
<td>
<code>Family History</code>
</td>
<td>
QL(Bin)
</td>
<td>
Family history of heart problems (1 Yes / 0 No)
</td>
</tr>
<tr>
<td>
<code>Smoking</code>
</td>
<td>
QL(Bin)
</td>
<td>
Smoking status (1 Smoker / 0 Non-smoker)
</td>
</tr>
<tr>
<td>
<code>Obesity</code>
</td>
<td>
QL(Bin)
</td>
<td>
Obesity status (1 Obese / 0 Not obese)
</td>
</tr>
<tr>
<td>
<code>Alcohol Consumption</code>
</td>
<td>
QL(4)
</td>
<td>
None / Light / Moderate / Heavy
</td>
</tr>
<tr>
<td>
<code>Exercise Hours Per Week</code>
</td>
<td>
Q(Real)
</td>
<td>
Hours of exercise per week
</td>
</tr>
<tr>
<td>
<code>Diet</code>
</td>
<td>
QL(3)
</td>
<td>
Diet quality (Healthy / Average / Unhealthy)
</td>
</tr>
<tr>
<td>
<code>Previous Heart Problems</code>
</td>
<td>
QL(Bin)
</td>
<td>
Prior heart-related issues (1 Yes / 0 No)
</td>
</tr>
<tr>
<td>
<code>Medication Use</code>
</td>
<td>
QL(Bin)
</td>
<td>
Takes medication (1 Yes / 0 No)
</td>
</tr>
<tr>
<td>
<code>Stress Level</code>
</td>
<td>
Q(Int)
</td>
<td>
Self-reported stress (1–10)
</td>
</tr>
<tr>
<td>
<code>Sedentary Hours Per Day</code>
</td>
<td>
Q(Real)
</td>
<td>
Average sedentary hours per day
</td>
</tr>
<tr>
<td>
<code>Income</code>
</td>
<td>
Q(Real)
</td>
<td>
Income level
</td>
</tr>
<tr>
<td>
<code>BMI</code>
</td>
<td>
Q(Real)
</td>
<td>
Body Mass Index
</td>
</tr>
<tr>
<td>
<code>Triglycerides</code>
</td>
<td>
Q(Int)
</td>
<td>
Triglycerides (mg/dL)
</td>
</tr>
<tr>
<td>
<code>Physical Activity Days Per Week</code>
</td>
<td>
Q(Int)
</td>
<td>
Days with physical activity (per week)
</td>
</tr>
<tr>
<td>
<code>Sleep Hours Per Day</code>
</td>
<td>
Q(Real)
</td>
<td>
Average sleep hours per day
</td>
</tr>
<tr>
<td>
<code>Country</code>
</td>
<td>
QL(N)
</td>
<td>
Country of residence
</td>
</tr>
<tr>
<td>
<code>Continent</code>
</td>
<td>
QL(7)
</td>
<td>
Continent of residence
</td>
</tr>
<tr>
<td>
<code>Hemisphere</code>
</td>
<td>
QL(2)
</td>
<td>
Northern / Southern
</td>
</tr>
<tr>
<td>
<code>Heart Attack Risk</code>
</td>
<td>
QL(Bin)
</td>
<td>
Target label (1 Yes / 0 No)
</td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Notation used</strong></p>
<p>Q(Int) = Quantitative (Integer)<br>
Q(Real) = Quantitative (Real)<br>
QL(Bin) = Qualitative (Binary)<br>
QL(N) = Qualitative (Categorical) with N levels</p>
</div>
</div>
</section>
<section id="data-preprocessing" class="level3">
<h3 class="anchored" data-anchor-id="data-preprocessing">Data Preprocessing</h3>
<ol type="1">
<li><strong>Columns</strong>
<ul>
<li>Drop <code>Patient.ID</code></li>
<li>Move <code>Heart.Attack.Risk</code> to the first column</li>
</ul></li>
<li><strong>Missing values and outliers</strong>
<ul>
<li>Checked with a <strong>z-score</strong> screen<br>
</li>
<li><strong>None detected</strong> (no imputation or trimming applied)</li>
</ul></li>
<li><strong>Blood pressure parsing</strong>
<ul>
<li>Split <code>Blood.Pressure</code> into <strong><code>Systolic</code></strong> and <strong><code>Diastolic</code></strong><br>
</li>
<li>Example: <code>158/88</code> → <code>Systolic = 158</code>, <code>Diastolic = 88</code></li>
</ul></li>
<li><strong>Encode categorical variables</strong>
<ul>
<li><strong>Binary to 0/1</strong>
<ul>
<li><code>Sex</code> → <code>Female</code> (1 = Female, 0 = Male)</li>
<li><code>Hemisphere</code> → <code>Northern.Hemisphere</code> (1 = Northern, 0 = Southern)</li>
<li>Others were kept in numeric form when building a correlation matrix before being converted to factors for training models</li>
</ul></li>
<li><strong>Multi-category (one-hot dummies)</strong>
<ul>
<li>Created dummies for <code>Diet</code>, <code>Country</code>, <code>Continent</code></li>
<li>Converted to numeric first when building a correlation matrix</li>
<li>Converted to factors and finally dummies for training models</li>
</ul></li>
</ul></li>
<li><strong>Scale numeric features</strong>
<ul>
<li>Standardize all numeric predictors to <strong>mean = 0</strong> and <strong>standard deviation = 1</strong></li>
</ul></li>
</ol>
</section>
<section id="dataset-versions-and-splits" class="level3">
<h3 class="anchored" data-anchor-id="dataset-versions-and-splits">Dataset versions and splits</h3>
<p><strong>Two final clean datasets (same row split, different handling of multi-category variables)</strong></p>
<ul>
<li><strong>data</strong>: 26 columns, multi-category variables kept as <strong>factors</strong><br>
</li>
<li><strong>data1</strong>: 52 columns, multi-category variables <strong>dummy-encoded</strong></li>
</ul>
<table class="feature-table">
<thead>
<tr>
<th>
Dataset
</th>
<th>
Columns
</th>
<th>
Total rows
</th>
<th>
Train rows
</th>
<th>
Test rows
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>data</code>
</td>
<td>
26
</td>
<td>
8,763
</td>
<td>
3,138
</td>
<td>
4,382
</td>
</tr>
<tr>
<td>
<code>data1</code>
</td>
<td>
52
</td>
<td>
8,763
</td>
<td>
3,138
</td>
<td>
4,382
</td>
</tr>
</tbody>
</table>
<p><strong>Which dataset for which models</strong></p>
<ul>
<li>Numeric-only algorithms: use data1 (dummy-encoded) — e.g., k-NN, SVM</li>
<li>Models that accept factors in our toolchain: use data (factor-based) — e.g., Logistic Regression, Naive Bayes, Decision Tree, Random Forest (Using factors also yields clearer tree visualizations.)</li>
</ul>
<p><strong>Class distribution strategy</strong></p>
<ul>
<li>Original distribution: ~36% “At risk”, ~64% “No risk”</li>
<li>Test set (stratified): kept the original distribution (~36/64) to reflect real world prevalence</li>
<li>Training set (balanced): adjusted to 50% / 50% (“At risk” / “No risk”) to reduce class-imbalance bias during learning</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li>Both datasets share the same train/test split, ensuring fair model comparisons.</li>
<li>“Balanced” training was achieved by resampling so each class contributes equally.</li>
</ul>
</section>
</section>
<section id="exploratory-data-analysis" class="level1">
<h1>Exploratory Data Analysis</h1>
<section id="descriptive-analysis" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-analysis">Descriptive Analysis</h3>
<section id="heart-attack-risk-by-country" class="level4">
<h4 class="anchored" data-anchor-id="heart-attack-risk-by-country">Heart Attack Risk by Country</h4>
<div class="columns">
<div class="column" style="width:60%;">
<p>This chart shows the proportion of people labeled <strong>At Risk</strong> vs <strong>No Risk</strong> for heart attack in each country.<br>
The overall pattern is very similar across countries: most countries have an at-risk share of roughly one third.<br>
This suggests that risk is widespread and not driven by a single country in the dataset.</p>
</div><div class="column" style="width:40%;">
<p><img src="p_images/heart1.jpg" class="img-fluid" style="width:100.0%" alt="Stacked proportion bar chart of heart attack risk by country"></p>
</div>
</div>
<hr>
</section>
<section id="distribution-of-at-risk-patients-by-age" class="level4">
<h4 class="anchored" data-anchor-id="distribution-of-at-risk-patients-by-age">Distribution of At-Risk Patients by Age</h4>
<div class="columns">
<div class="column" style="width:60%;">
<p>This plot shows how many <strong>At Risk</strong> cases appear at different ages.<br>
Risk is not just concentrated in older adults — there are many at-risk individuals starting in their mid 20s and continuing through the 60s, 70s, and 80s.<br>
That means elevated risk appears across the full adult age range.</p>
</div><div class="column" style="width:40%;">
<p><img src="p_images/heart2.png" class="img-fluid" style="width:100.0%" alt="Histogram of at-risk heart attack cases by age with density line"></p>
</div>
</div>
<hr>
</section>
<section id="heart-attack-risk-by-gender" class="level4">
<h4 class="anchored" data-anchor-id="heart-attack-risk-by-gender">Heart Attack Risk by Gender</h4>
<div class="columns">
<div class="column" style="width:60%;">
<p>The share of people labeled <strong>At Risk</strong> is very similar between males and females.<br>
In this dataset, baseline heart attack risk looks fairly balanced across gender, with no large gap in proportions.</p>
</div><div class="column" style="width:40%;">
<p><img src="p_images/heart4.png" class="img-fluid" style="width:100.0%" alt="Stacked bar chart of heart attack risk proportion by gender"></p>
</div>
</div>
</section>
</section>
<section id="correlation-analysis" class="level3">
<h3 class="anchored" data-anchor-id="correlation-analysis">Correlation Analysis</h3>
<section id="correlation-with-demographics" class="level4">
<h4 class="anchored" data-anchor-id="correlation-with-demographics">Correlation with Demographics</h4>
<div class="columns">
<div class="column" style="width:60%;">
<p>This correlation matrix looks at how <strong>Heart.Attack.Risk</strong> relates to demographic features such as <strong>Sex</strong>, <strong>Age</strong>, <strong>Income</strong>, <strong>Country</strong>, <strong>Continent</strong>, and <strong>Hemisphere</strong>.</p>
<p>All the correlation values with Heart.Attack.Risk are very close to zero, which means there is <strong>no strong linear relationship</strong> between risk and any single demographic or location variable in this dataset. This suggests that heart attack risk is not being driven by demographic alone, and likely depends more on clinical and lifestyle factors than on where someone lives.</p>
</div><div class="column" style="width:40%;">
<p><img src="p_images/heart3.png" class="img-fluid" style="width:100.0%" alt="Correlation plot between heart attack risk and demographic/geographic variables"></p>
</div>
</div>
<hr>
</section>
<section id="correlation-with-physiological-and-clinical-variables" class="level4">
<h4 class="anchored" data-anchor-id="correlation-with-physiological-and-clinical-variables">Correlation with Physiological and Clinical Variables</h4>
<div class="columns">
<div class="column" style="width:60%;">
<p>This correlation matrix shows how <strong>Heart.Attack.Risk</strong> relates to physiological and clinical measures such as <strong>Cholesterol</strong>, <strong>Systolic</strong> and <strong>Diastolic</strong> blood pressure, <strong>Triglycerides</strong>, <strong>Heart.Rate</strong>, and <strong>BMI</strong>.</p>
<p>The strongest positive correlations appear between <strong>Cholesterol</strong> and risk, and between <strong>Systolic blood pressure</strong> and risk.<br>
This suggests that higher cholesterol levels and higher systolic pressure are more associated with being labeled “At Risk” in this dataset, while the other variables have weaker or near-zero relationships.</p>
</div><div class="column" style="width:40%;">
<p><img src="p_images/heart5.png" class="img-fluid" style="width:100.0%" alt="Correlation plot between heart attack risk and physiological/clinical variables"></p>
</div>
</div>
<hr>
</section>
<section id="correlation-with-medical-history" class="level4">
<h4 class="anchored" data-anchor-id="correlation-with-medical-history">Correlation with Medical History</h4>
<div class="columns">
<div class="column" style="width:60%;">
<p>This correlation matrix looks at how <strong>Heart.Attack.Risk</strong> relates to medical history factors such as <strong>Diabetes</strong>, <strong>Family.History</strong>, <strong>Previous.Heart.Problems</strong>, <strong>Medication.Use</strong>, and <strong>Stress.Level</strong>.</p>
<p>The strongest positive correlation with being “At Risk” is <strong>Diabetes</strong>, suggesting that a history of diabetes is an important signal for elevated heart attack risk in this dataset.<br>
Other history variables show weaker or near-zero direct correlations.</p>
</div><div class="column" style="width:40%;">
<p><img src="p_images/heart6.png" class="img-fluid" style="width:100.0%" alt="Correlation plot between heart attack risk and medical history variables"></p>
</div>
</div>
<hr>
</section>
<section id="correlation-with-lifestyle-factors" class="level4">
<h4 class="anchored" data-anchor-id="correlation-with-lifestyle-factors">Correlation with Lifestyle Factors</h4>
<div class="columns">
<div class="column" style="width:60%;">
<p>This correlation matrix shows how <strong>Heart.Attack.Risk</strong> relates to lifestyle factors such as <strong>Smoking</strong>, <strong>Alcohol.Consumption</strong>, <strong>Diet</strong>, <strong>Exercise.Hours.Per.Week</strong>, <strong>Physical.Activity.Days.Per.Week</strong>, <strong>Sedentary.Hours.Per.Day</strong>, and <strong>Sleep.Hours.Per.Day</strong>.</p>
<p>The strongest relationship we see is a <strong>negative correlation</strong> between <strong>Sleep.Hours.Per.Day</strong> and heart attack risk, suggesting that fewer hours of sleep per day is associated with higher risk.<br>
Other lifestyle variables, including smoking and alcohol use, have weaker direct correlations in this dataset.</p>
</div><div class="column" style="width:40%;">
<p><img src="p_images/heart7.png" class="img-fluid" style="width:100.0%" alt="Correlation plot between heart attack risk and lifestyle variables"></p>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>